(()=>{"use strict";var e={3147:(e,t,n)=>{n(71),n(7280),n(5363);var r=n(8880),o=n(8670),a=n(3673);function i(e,t,n,r,o,i){const s=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(s)}const s=(0,a.aZ)({name:"App"});s.render=i;const c=s;var l=n(4172),u=n(7083),d=n(9582);const h=[{name:"root",path:"/",component:()=>Promise.all([n.e(736),n.e(102)]).then(n.bind(n,1102))},{name:"personal",path:"/my",meta:{user:"me"},component:()=>Promise.all([n.e(736),n.e(313)]).then(n.bind(n,3313)),children:[{path:"progress",component:()=>Promise.all([n.e(736),n.e(361)]).then(n.bind(n,8361))}]},{name:"media",path:"/media",component:()=>Promise.all([n.e(736),n.e(329)]).then(n.bind(n,8329)),children:[{path:"movie/:id",component:Promise.all([n.e(736),n.e(68)]).then(n.bind(n,8068))}]},{path:"/:catchAll(.*)*",component:()=>Promise.all([n.e(736),n.e(232)]).then(n.bind(n,9232))}],f=h,p=(0,u.BC)((function(){const e=d.PO,t=(0,d.p7)({scrollBehavior:()=>({left:0,top:0}),routes:f,history:e("/")});return t.beforeResolve(((e,t,n)=>{console.log("beforeResolve to:",e),n()})),t.beforeEach(((e,t,n)=>{console.log("beforeEach to:",e),n()})),t}));async function m(e,t){const r="function"===typeof l.default?await(0,l.default)({}):l.default,{storeKey:a}=await Promise.resolve().then(n.bind(n,4172)),i="function"===typeof p?await p({store:r}):p;r.$router=i;const s=e(c);return s.use(o.Z,t),{app:s,store:r,storeKey:a,router:i}}var v=n(5198);const b={config:{loading:{}},plugins:{Loading:v.Z}};var y=n(1413);(0,y.z)("/service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}}),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&n.e(736).then(n.t.bind(n,9501,23));const g="/";async function w({app:e,router:t,store:n,storeKey:r},o){let a=!1;const i=e=>{a=!0;const n=Object(e)===e?t.resolve(e).fullPath:e;window.location.href=n},s=window.location.href.replace(window.location.origin,"");for(let l=0;!1===a&&l<o.length;l++)try{await o[l]({app:e,router:t,store:n,ssrContext:null,redirect:i,urlPath:s,publicPath:g})}catch(c){return c&&c.url?void(window.location.href=c.url):void console.error("[Quasar] boot error:",c)}!0!==a&&(e.use(t),e.use(n,r),e.mount("#q-app"))}m(r.ri,b).then((e=>Promise.all([Promise.resolve().then(n.bind(n,8066)),Promise.resolve().then(n.bind(n,1768)),Promise.resolve().then(n.bind(n,4781))]).then((t=>{const n=t.map((e=>e.default)).filter((e=>"function"===typeof e));w(e,n)}))))},1768:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f,axios:()=>a.a,api:()=>u,getUrl:()=>d});var r=n(7083),o=n(52),a=n.n(o),i=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):o(e.value).then(i,s)}c((r=r.apply(e,t||[])).next())}))};const s="dcf42d9d4bf3c0048c46933cdb9b5462935c077f9f2440c213068a4ec16709bc",c="3b49b7be442266ab0e47445e9502849b83e341847d8a4bc7482997493d81f33c",l="https://pelicula.github.io/login",u=a().create({baseURL:"https://api.trakt.tv",headers:{"User-Agent":"pelicula/1 (JS; +https://pelicula.github.io/)","Content-Type":"application/json","trakt-api-version":"2","trakt-api-key":s}}),d=()=>`https://trakt.tv/oauth/authorize?response_type=code&client_id=${s}&redirect_uri=${l}`,h=e=>i(void 0,void 0,void 0,(function*(){const{data:t}=yield u.post("/oauth/token",{code:e,client_id:s,client_secret:c,redirect_uri:l,grant_type:"authorization_code"});return t})),f=(0,r.xr)((({router:e,store:t})=>{e.beforeEach(((e,n,r)=>i(void 0,void 0,void 0,(function*(){var n;if(e.path.startsWith("/login")){const a=(null===(n=e.query.code)||void 0===n?void 0:n.toString())||"";try{const e=yield h(a);yield t.dispatch("auth/handleAuthorizationCode",e),r("/my/progress")}catch(o){yield t.dispatch("auth/handleAuthorizationError",o),r("/")}}else r()}))))}))},8066:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l,i18n:()=>c});var r=n(7083),o=n(5948);const a={logintrakt:"Sign in with trakt"},i={logintrakt:"Entrar com trakt"},s={en:a,"pt-BR":i},c=(0,o.o)({locale:"pt-BR",fallbackLocale:"en",legacy:!1,messages:s}),l=(0,r.xr)((({app:e})=>{e.use(c)}))},4781:(e,t,n)=>{n.r(t),n.d(t,{session:()=>s,default:()=>c});var r=n(7083),o=n(8703),a=n.n(o),i=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):o(e.value).then(i,s)}c((r=r.apply(e,t||[])).next())}))};const s=a().createInstance({name:"session"}),c=(0,r.xr)((({store:e})=>i(void 0,void 0,void 0,(function*(){const t=yield s.getItem("access_token");t&&(yield e.dispatch("auth/handleAuthorizationCode",{access_token:t}))}))))},3744:(e,t,n)=>{n.d(t,{e:()=>o,n:()=>a});var r=n(7489);class o extends r.Hn{static fields(){return{trakt:this.number(null),title:this.string(null).nullable(),ids:this.hasOne(a,"trakt")}}}o.entity="baseentities",o.primaryKey="trakt";class a extends r.Hn{static fields(){return{trakt:this.number(null),imdb:this.string(null).nullable(),tmdb:this.number(null).nullable()}}}a.entity="baseids",a.primaryKey="trakt"},1823:(e,t,n)=>{n.d(t,{d:()=>s,E:()=>c});var r=n(7489),o=n(3744),a=n(8603),i=n.n(a);class s extends o.e{static fields(){return Object.assign(Object.assign({},super.fields()),{year:this.number(null).nullable(),watched:this.hasOne(c,"trakt")})}}s.entity="shows";class c extends r.Hn{static fields(){return{trakt:this.number(null),last_watched_at:this.string(null),last_updated_at:this.string(null),plays:this.number(null),show:this.hasOne(s,"trakt")}}static fetchWatched(){return this.api().get("/users/me/watched/shows",{dataTransformer:({data:e})=>(i().forEach(e,(e=>{const t=i().get(e,"show.ids.trakt");i().set(e,"trakt",t),i().set(e,"show.trakt",t)})),e)})}}c.entity="baseshows",c.primaryKey="trakt"},4172:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S,storeKey:()=>A,useStore:()=>z});var r=n(7083),o=n(7874),a=n(7489),i=n(3733);function s(){return{accessToken:null}}const c=s;var l=n(4781),u=n(1768),d=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):o(e.value).then(i,s)}c((r=r.apply(e,t||[])).next())}))};const h={handleAuthorizationCode(e,{access_token:t}){return d(this,void 0,void 0,(function*(){yield l.session.setItem("access_token",t),u.api.defaults.headers.common.Authorization=`Bearer ${t}`,e.commit("saveAccessToken",t)}))},handleAuthorizationError(){}},f=h,p={someAction(){}},m=p,v={saveAccessToken(e,t){e.accessToken=t}},b=v,y={namespaced:!0,actions:f,getters:m,mutations:b,state:c},g=y,w={namespaced:!0},k=w;var P=n(3744),O=n(8603),_=n.n(O);class j extends P.e{static fields(){return Object.assign(Object.assign({},super.fields()),{year:this.number(null).nullable(),watched:this.hasOne(x,"trakt")})}}j.entity="movies";class x extends a.Hn{static fields(){return{trakt:this.number(null),last_watched_at:this.string(null),last_updated_at:this.string(null),plays:this.number(null),movie:this.hasOne(j,"trakt")}}static fetchWatched(){return this.api().get("/users/me/watched/movies",{dataTransformer:({data:e})=>(_().forEach(e,(e=>{const t=_().get(e,"movie.ids.trakt");_().set(e,"trakt",t),_().set(e,"movie.trakt",t)})),e)})}}x.entity="basemovies",x.primaryKey="trakt";var E=n(1823);const A=Symbol("vuex-key");a.ZP.use(i.ZP,{axios:u.api});const T=new a.ZP.Database,C=[P.n,P.e,j,x,E.d,E.E];C.forEach((e=>T.register(e)));const S=(0,r.h)((function(){const e=(0,o.MT)({modules:{auth:g,trakt:k},strict:!1,plugins:[a.ZP.install(T)]});return e}));function z(){return(0,o.oR)(A)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,a)=>{if(!r){var i=1/0;for(l=0;l<e.length;l++){for(var[r,o,a]=e[l],s=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(s=!1,a<i&&(i=a));s&&(e.splice(l--,1),t=o())}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[r,o,a]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>r[e]));return i["default"]=()=>r,n.d(a,i),a}})(),(()=>{n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+e+"."+{68:"5f7bb253",102:"d422efef",232:"a8cc0e8f",313:"ecf223af",329:"60121d99",361:"3de21c78"}[e]+".js"})(),(()=>{n.miniCssF=e=>"css/vendor.84e96be0.css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="pelicula:";n.l=(r,o,a,i)=>{if(e[r])e[r].push(o);else{var s,c;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[o];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{n.p="/"})(),(()=>{var e={143:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=a);var i=n.p+n.u(t),s=new Error,c=r=>{if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,o[1](s)}};n.l(i,c,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[i,s,c]=r,l=0;for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var u=c(n);for(t&&t(r);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[i[l]]=0;return n.O(u)},r=self["webpackChunkpelicula"]=self["webpackChunkpelicula"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[736],(()=>n(3147)));r=n.O(r)})();